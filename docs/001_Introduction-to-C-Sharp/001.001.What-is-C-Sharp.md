# 001.001 What is C#?

## C# in a Nutshell

- **Type-safe**, **object-oriented** language by Microsoft

## Quick Facts
→ Created by **Anders Hejlsberg** (2000)  
→ Current version: **C# 12** (2023)  
→ Compiles to **IL** (Intermediate Language)  
→ Runs on **CLR** (Common Language Runtime)

```mermaid
sequenceDiagram
    participant Developer
    participant Roslyn
    participant Debug_PDB
    participant IL_Assembly
    participant CLR
    participant JIT
    participant CPU
    participant Debugger

    %% Source Code Stage
    Developer->>Roslyn: Write Program.cs
    Note right of Roslyn: Roslyn is used by<br>`csc` or `dotnet build`

    %% Compilation Phase - Debug
    alt Debug Build
        Developer->>Roslyn: Compile with /debug or `dotnet build -c Debug`
        Roslyn->>Debug_PDB: Generate Program.pdb (debug symbols)
        Roslyn->>IL_Assembly: Output Program.dll (with IL + metadata)
    else Release Build
        Developer->>Roslyn: Compile with /optimize or `dotnet build -c Release`
        Roslyn-->>Debug_PDB: Skip generating .pdb (or minimal symbols)
        Roslyn->>IL_Assembly: Output optimized Program.dll
    end

    %% Runtime Phase
    Developer->>CLR: Run app via `dotnet Program.dll` or `Program.exe`
    CLR->>IL_Assembly: Load assembly
    CLR->>CLR: Verify IL and metadata

    %% JIT Compilation
    CLR->>JIT: Pass IL to JIT compiler
    alt Release Build
        JIT->>JIT: Aggressive optimizations enabled
    else Debug Build
        JIT->>JIT: Limited optimizations (better debugging)
        Debugger->>Debug_PDB: Read symbols for breakpoints, stack traces
    end

    %% Execution Phase
    JIT->>CPU: Emit native machine code
    CPU-->>Developer: Execute program on hardware
```
